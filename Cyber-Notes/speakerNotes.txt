


COFC Network + Man-in-the-Middle (MITM):
800+ access and distribution switches
1100 wireless access points
8 campuses, 120 buildings, 200 communication rooms
1500-2000 miles of fiber
Lots of tools! (Splunk, Stackstorm, Netbox, Packetfence, solarwinds, airwave,
FreeRadius)
Narrow waist principle- whole bunch of physical layer protocols through an ip to
a service/protocol
Ethernet- (IPV4) mac address/destination, payload, in-order delivery; 
packet has IP address; protocol layer 4
Tools:
    VirtualBox
    wireshark
    GNS3 (Junyper switches)
        Docker
        KVM
    nmap
    tcpdump
    tcpflow
    netcat (reverse console control)
    ettercap
GNS3
    docker images, routers, etx
    netcat
        ncat-l 8080
        ncap <ip>
    hacker has no ip
    bridge command 
        brctl addbr <name>
        brctl addif <name> eth[i]
        brctl setaging <name> 0
        ifconfig <name> up
    tcpflow
        tcpflow -C
    hub based network
        layer 2 device
        plug in and get all traffic
        bandwith lmited to the port speed
    ettercap
        ettercap -C
        sniff > unify sniffing > intrface
        1 for target 1, 2 for target 2
    Switch 
        layer 2
        MAC address, port on switch #
        CAM memory (linear search) (Content Addressable Memory)
            aka hash table like structure
        MAC Spoofing- overwriting CAM address & hijack session, exhaust memory
        Limit number MAC addresses on switch (CofC allows 3 MAC addresses/device
        including VMs)
    ARP (Address Resolution Protocol)
        DHCP network, packet traverses switch, MAC Address request, 
        Switch understands, MAC address, and then assigns IP
        Layer 2 vulneabilities can be reduced
        ARP inspection
        Discovers MAC address of the device
        ARP Spoofing
    ARP Poisoning
        ettercap
        add users as targets
        go to MITM and select ARP Poisoning
        Best attacks are the ones that the user doesn't know about
        Must be compromized on the network
    VLANs
        Virtual network on a switch
        ethernet packets include a tag specifically for VLANs
        Double tagging causes problems
    Mitigation
        Encryption
        Don't use hubs
        MAC limits
        DHCP
        Don't use native VLAN on Trunk interface
        Don't use open networks
        Don't use WEP
        Use EAP-TLS instead of EAP-PEAP-mschapv2
